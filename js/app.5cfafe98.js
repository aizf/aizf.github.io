(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],d=0,h=[];d<r.length;d++)o=r[d],s[o]&&h.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0046":function(t,e,i){},"0f2d":function(t,e,i){"use strict";var n=i("27f6"),s=i.n(n);s.a},"27f6":function(t,e,i){},"2c72":function(t,e,i){"use strict";var n=i("eddc"),s=i.n(n);s.a},"2d9d":function(t,e,i){"use strict";var n=i("0046"),s=i.n(n);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("a-layout",{staticStyle:{"min-height":"100vh"},attrs:{id:"app-layout"}},[i("a-layout-header",{staticClass:"header"},[i("div",{staticClass:"logo"}),i("a-menu",{style:{lineHeight:"64px"},attrs:{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]}},[i("a-menu-item",{key:"1",on:{click:function(e){t.currentPageKey="1"}}},[t._v("Data")]),i("a-menu-item",{key:"2",attrs:{disabled:!t.dataSelected},on:{click:function(e){t.currentPageKey="2"}}},[i("a-tooltip",{attrs:{placement:"bottom",title:t.pageViewTooltipTitle}},[t._v("View")])],1),i("a-menu-item",{key:"3",attrs:{disabled:!t.dataSelected},on:{click:function(e){t.currentPageKey="3"}}},[i("a-tooltip",{attrs:{placement:"bottom",title:t.pageAnalyzeTooltipTitle}},[t._v("Analyze")])],1)],1)],1),i("keep-alive",[i(t.currentPage,{tag:"component"})],1)],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-layout",[i("a-layout-sider",{staticStyle:{background:"#fff"},attrs:{width:"200",theme:"light",collapsible:"",collapsedWidth:"80"}},[i("a-menu",{style:{height:"100%",borderRight:0},attrs:{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],inlineIndent:24}},[i("a-sub-menu",{key:"sub1"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"user"}}),i("span",[t._v("Dataset")])],1),i("a-menu-item-group",{key:"node-link",attrs:{title:"node-link"}},[i("a-menu-item",{key:"miserables",on:{click:t.loadData}},[t._v("miserables")]),i("a-menu-item",{key:"energy",on:{click:t.loadData}},[t._v("energy")])],1),i("a-menu-item-group",{key:"hierarchical",attrs:{title:"hierarchical"}},[i("a-menu-item",{key:"readme",on:{click:t.loadData}},[t._v("readme")]),i("a-menu-item",{key:"test",on:{click:t.loadData}},[t._v("test(2196N,2195L)")])],1)],1),i("a-sub-menu",{key:"sub2"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"laptop"}}),i("span",[t._v("hierarchical")])],1),i("a-menu-item",{key:"5"},[t._v("DataFlow")]),i("a-menu-item",{key:"6"},[t._v("OprationFlow")])],1),i("a-sub-menu",{key:"sub3"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"notification"}}),i("span",[t._v("sub3")])],1),i("a-menu-item",{key:"9"},[t._v("option9")]),i("a-menu-item",{key:"10"},[t._v("option10")]),i("a-menu-item",{key:"11"},[t._v("option11")]),i("a-menu-item",{key:"12"},[t._v("option12")])],1)],1)],1),i("a-layout",{staticStyle:{padding:"0 0px 0 5px"}},[i("a-layout-content",{style:{background:"#fff",padding:"24px",margin:0}},[i("a-tabs",{style:{height:"100%"},attrs:{defaultActiveKey:"0"}},t._l(t.tabContents,function(e,n){return i("a-tab-pane",{key:n+1,attrs:{tab:t.tabs[n]}},[i("codemirror",{ref:"myCm",refInFor:!0,attrs:{value:e,options:t.cmOptions}})],1)}),1)],1)],1)],1)},r=[],l=i("5698"),c=i("8f94"),u=(i("a7be"),i("737c"),i("f9d4"),i("f6b6"),i("9b74"),i("3c98"),{name:"PageData",components:{codemirror:c["codemirror"]},data:function(){return{collapsed:!1,visSwitched:!1,tabs:["SourceData","Node-Link","Hierarchical"],tabContents:Array(3),lastSelect:void 0,cmOptions:{tabSize:2,mode:{name:"javascript",json:!0},theme:"lucario",lineNumbers:!0,line:!0,readOnly:"nocursor"}}},computed:{datasets:function(){return this.$store.state.datasets}},methods:{loadData:function(t){var e=this,i=this.datasets[t.key],n="./static/"+i.fileName;function s(t){switch(t){case"node-link":return o;case"hierarchical":return a;default:break}}function a(t){l["json"](t).then(function(t){e.$store.commit("updateSourceData",t),e.$store.commit("updateVisualData",e.$store.getters.hierarchical2nodeLink),e.tabContents.push(JSON.stringify(t,null,"\t")),e.tabContents.push(JSON.stringify(e.$store.state.visualData,null,"\t")),e.tabContents.push("asdsafdhfghdfghsdf"),r()}).catch(function(t){console.log(t)})}function o(){l["json"](n).then(function(t){e.$store.commit("updateSourceData",t),e.$store.commit("updateVisualData",t),e.tabContents.push(JSON.stringify(t,null,"\t")),e.tabContents.push(JSON.stringify(e.$store.state.visualData,null,"\t")),e.tabContents.push("asdsafdhfghdfghsdf"),r()}).catch(function(t){console.log(t)})}function r(){t.key!==e.lastSelect&&(console.log("change!"),e.lastSelect=t.key,e.$store.commit("resetOperations"),e.$store.commit("updateViewUpdate","all"),e.$message.success("Data loaded."))}this.tabContents=[],this.$message.loading("Action in progress..",.3).then(function(){s(i.dataType)(n)})},test:function(){console.log("c")},test1:function(t){console.log(t),console.log(t.target)}}}),d=u,h=(i("2c72"),i("2877")),f=Object(h["a"])(d,o,r,!1,null,null,null),v=f.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-layout",[i("a-layout-sider",{staticStyle:{background:"#fff"},attrs:{width:"200",theme:"light",collapsible:"",collapsedWidth:"80"}},[i("a-menu",{style:{height:"100%",borderRight:0},attrs:{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],inlineIndent:24}},[i("a-sub-menu",{key:"sub1"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"user"}}),i("span",[t._v("oprations")])],1),i("a-menu-item",[i("a-button",{style:{margin:"1px"},attrs:{type:"primary",block:"block"},on:{click:t.saveViewData}},[t._v("save")])],1),i("a-menu-item",[i("a-button",{style:{paddingLeft:"8px"},attrs:{shape:"circle",disabled:t.sliceUndoDisabled},on:{click:t.sliceUndo}},[i("a-icon",{attrs:{type:"undo"}})],1),i("a-button",{style:{marginLeft:"5px",width:"100px"},attrs:{type:"primary"},on:{click:t.viewSlice}},[t._v("slice")])],1),i("a-menu-item-group",{key:"g1",attrs:{title:"single point"}},[i("a-menu-item",{attrs:{disabled:t.clickDisabled},on:{click:t.onVisClick}},[i("a-tooltip",{attrs:{placement:"top",title:"单点操作，选中或取消选中一个点",mouseEnterDelay:.4}},[i("span",[t._v("click")])]),i("span",{style:{display:"block",float:"right"},on:{click:function(t){t.stopPropagation()}}},[i("a-switch",{attrs:{disabled:t.clickDisabled},model:{value:t.visClick,callback:function(e){t.visClick=e},expression:"visClick"}})],1)],1),i("a-menu-item",{key:"1",attrs:{disabled:t.dragDisabled},on:{click:t.onVisDrag}},[i("a-tooltip",{attrs:{placement:"top",title:"单点操作，拖动一个点",mouseEnterDelay:.4}},[i("span",[t._v("drag")])]),i("span",{style:{display:"block",float:"right"},on:{click:function(t){t.stopPropagation()}}},[i("a-switch",{attrs:{disabled:t.dragDisabled},model:{value:t.visDrag,callback:function(e){t.visDrag=e},expression:"visDrag"}})],1)],1),i("a-menu-item",{attrs:{disabled:t.mouseoverDisabled},on:{click:t.onVisMouseover}},[i("a-tooltip",{attrs:{placement:"top",title:"单点操作，展示与该点相关联的点",mouseEnterDelay:.4}},[i("span",[t._v("mouseover")])]),i("span",{style:{display:"block",float:"right"},on:{click:function(t){t.stopPropagation()}}},[i("a-switch",{attrs:{disabled:t.mouseoverDisabled},model:{value:t.visMouseover,callback:function(e){t.visMouseover=e},expression:"visMouseover"}})],1)],1)],1),i("a-menu-item-group",{key:"g2",attrs:{title:"multiple point"}},[i("a-menu-item",{attrs:{disabled:t.brushDisabled},on:{click:t.onVisBrush}},[i("a-tooltip",{attrs:{placement:"top",title:"多点操作，选中多个点",mouseEnterDelay:.4}},[i("span",[t._v("brush")])]),i("span",{style:{display:"block",float:"right"},on:{click:function(t){t.stopPropagation()}}},[i("a-switch",{attrs:{disabled:t.brushDisabled},on:{change:function(e){return t.onVisBrush("switch")}},model:{value:t.visBrush,callback:function(e){t.visBrush=e},expression:"visBrush"}})],1)],1),i("a-menu-item",{attrs:{disabled:t.invertBrushDisabled},on:{click:t.onVisInvertBrush}},[i("a-tooltip",{attrs:{placement:"top",title:"多点操作，取消选中多个点",mouseEnterDelay:.4}},[i("span",[t._v("invert brush")])]),i("span",{style:{display:"block",float:"right"},on:{click:function(t){t.stopPropagation()}}},[i("a-switch",{attrs:{disabled:t.invertBrushDisabled},on:{change:function(e){return t.onVisInvertBrush("switch")}},model:{value:t.visInvertBrush,callback:function(e){t.visInvertBrush=e},expression:"visInvertBrush"}})],1)],1),i("a-menu-item",{attrs:{disabled:t.zoomDisabled},on:{click:t.onVisZoom}},[i("a-tooltip",{attrs:{placement:"top",title:"多点操作，放大、缩小或平移视图",mouseEnterDelay:.4}},[i("span",[t._v("zoom")])]),i("span",{style:{display:"block",float:"right"},on:{click:function(t){t.stopPropagation()}}},[i("a-switch",{attrs:{disabled:t.zoomDisabled},model:{value:t.visZoom,callback:function(e){t.visZoom=e},expression:"visZoom"}})],1)],1)],1)],1),i("a-sub-menu",{key:"display"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"laptop"}}),i("span",[t._v("display")])],1),i("a-menu-item",{key:"showIdsDisabled",attrs:{disabled:t.showIdsDisabled},on:{click:t.onVisShowIds}},[i("a-icon",{attrs:{type:"tags"}}),i("span",[t._v("showIds")]),i("span",{style:{display:"block",float:"right"},on:{click:function(t){t.stopPropagation()}}},[i("a-switch",{attrs:{disabled:t.showIdsDisabled},model:{value:t.visShowIds,callback:function(e){t.visShowIds=e},expression:"visShowIds"}})],1)],1),i("a-menu-item",{key:"record",on:{click:t.recordOpen}},[i("a-icon",{attrs:{type:"database"}}),t._v("record\n        ")],1),i("a-menu-item",{key:"5"},[t._v("DataFlow")]),i("a-menu-item",{key:"6"},[t._v("OprationFlow")])],1),i("a-sub-menu",{key:"sub3"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"notification"}}),i("span",[t._v("change chart")])],1),i("a-menu-item",{key:"force",on:{click:t.changeChart}},[i("a-icon",{attrs:{type:"deployment-unit"}}),t._v("force\n        ")],1),i("a-menu-item",{key:"scatter",on:{click:t.changeChart}},[i("a-icon",{attrs:{type:"dot-chart"}}),t._v("scatter\n        ")],1),i("a-menu-item",{key:"table",on:{click:t.changeChart}},[i("a-icon",{attrs:{type:"table"}}),t._v("table\n        ")],1)],1)],1)],1),i("a-layout",{staticStyle:{padding:"0 0px 0 5px"}},[i("a-layout-content",{style:{background:"#fff",padding:"24px",margin:0}},[i("keep-alive",[i(t.currentChart,{tag:"component",attrs:{visClick:t.visClick,visBrush:t.visBrush,visInvertBrush:t.visInvertBrush,visDrag:t.visDrag,visMouseover:t.visMouseover,visZoom:t.visZoom,visShowIds:t.visShowIds,viewUpdate:t.viewUpdate}})],1)],1)],1),i("a-drawer",{attrs:{title:"record",placement:"right",closable:!1,visible:t.recordVisible},on:{close:t.recordClose}},[i("RecordDrawer")],1)],1)},m=[],g=i("75fc"),y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ForceChart",style:{margin:"5px",height:+this.chartHeight+5+"px",width:+this.chartWidth+5+200+"px"}},[i("div",{staticStyle:{float:"left"}},[i("svg",{style:{border:"1px solid #305dff",background:this.backgroundColor},attrs:{width:this.chartWidth,height:this.chartHeight}},[i("defs",[i("filter",{attrs:{id:"shadow"}},[i("feDropShadow",{attrs:{dx:"0",dy:"0",stdDeviation:"0.3"}})],1)])])]),i("div",{style:{float:"left",height:t.chartHeight+"px",margin:"0 5px",padding:"0 0 40px 0"}},[i("a-slider",{style:{margin:"0 0 10px 38px"},attrs:{vertical:"",min:.01,max:4.5,step:.01},on:{change:t.forceLinkChange},model:{value:t.linkStrength,callback:function(e){t.linkStrength=e},expression:"linkStrength"}}),i("a-input-number",{staticStyle:{margin:"0 0 0 0"},attrs:{min:.01,max:4.5,step:.01,defaultValue:t.linkStrength},on:{change:t.forceLinkChange},model:{value:t.linkStrength,callback:function(e){t.linkStrength=e},expression:"linkStrength"}})],1),i("div",{style:{float:"left",height:t.chartHeight+"px",margin:"0 5px",padding:"0 0 40px 0"}},[i("a-slider",{style:{margin:"0 0 10px 38px"},attrs:{vertical:"",min:0,max:3,step:.01},on:{change:t.forceLinkChange},model:{value:t.linkLength,callback:function(e){t.linkLength=e},expression:"linkLength"}}),i("a-input-number",{staticStyle:{margin:"0 0 0 0"},attrs:{min:0,max:3,step:.01,defaultValue:t.linkLength},on:{change:t.forceLinkChange},model:{value:t.linkLength,callback:function(e){t.linkLength=e},expression:"linkLength"}})],1)])},b=[],k=(i("7514"),i("b54a"),i("7f7f"),i("ac4d"),i("8a81"),i("ac6a"),{name:"ForceChart",props:{visClick:Boolean,visBrush:Boolean,visInvertBrush:Boolean,visDrag:Boolean,visMouseover:Boolean,visZoom:Boolean,visShowIds:Boolean,viewUpdate:!1},data:function(){return{chartWidth:"960",chartHeight:"600",link:l["selectAll"](),node:l["selectAll"](),linkG:l["selectAll"](),nodeG:l["selectAll"](),linkData:[],nodeData:[],vis:l["selectAll"](),simulation:{},brushG:l["selectAll"](),opacityNodes:l["selectAll"](),opacityLinks:l["selectAll"](),opacityTexts:l["selectAll"](),text:l["selectAll"](),textG:l["selectAll"](),linkStrength:1,linkLength:0,isDraging:!1,mousePoint:[],brushedNodes:l["selectAll"](),invertBrushedNodes:l["selectAll"]()}},computed:{sourceData:function(){return this.$store.state.sourceData},visualData:function(){return this.$store.state.visualData},backgroundColor:function(){return this.$store.state.backgroundColor},colorPalette:function(){return this.$store.state.colorPalette},nodesNumber:function(){return this.node.size()},degreeArray:function(){var t=this.simulation.nodes(),e=this.simulation.force("link").links(),i=t.length,n=(e.length,new Array(i)),s=!0,a=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(s=(r=l.next()).done);s=!0){var c=r.value;n[c.source.index]=(n[c.source.index]||0)+1,n[c.target.index]=(n[c.target.index]||0)+1}}catch(u){a=!0,o=u}finally{try{s||null==l.return||l.return()}finally{if(a)throw o}}return n}},mounted:function(){var t=this;console.log(this),console.log(l);var e=l["select"](this.$el).select("svg").attr("viewBox",[0,0,+this.chartWidth,+this.chartHeight]),i=+this.chartWidth,n=+this.chartHeight;this.vis=e.append("g"),e.call(l["zoom"]().on("zoom",o).on("end",r)).on("dblclick.zoom",null),this.simulation=l["forceSimulation"]().force("link",l["forceLink"]().id(function(t){return t.id||t.name})).force("charge",l["forceManyBody"]()).force("center",l["forceCenter"](i/2,n/2));var s=l["brush"]().extent([[0,0],[i,n]]).on("start brush",this.brushed).on("end",this.brushEnd);this.brushG=e.append("g").call(s).attr("class","brush"),this.visBrush?this.brushG.style("display","inline"):this.brushG.style("display","none");var a=l["brush"]().extent([[0,0],[i,n]]).on("start brush",this.brushed).on("end",this.invertBrushEnd);function o(){if(t.visZoom){var e=l["event"].transform;t.vis.attr("transform",e)}}function r(){if(t.visZoom){var e=l["event"].transform,i=e.invert([0,0]),n=e.invert([+t.chartWidth,+t.chartHeight]),s=t.node.filter(function(t){return i[0]<=t.x&&i[1]<=t.y&&t.x<=n[0]&&t.y<=n[1]});s.each(function(t){t.attentionTimes+=1}),t.$store.commit("addOperation",{action:"zoom",nodes:s.nodes(),time:new Date}),console.log("zoom",s.nodes())}}this.invertBrushG=e.append("g").call(a).attr("class","invertBrush"),this.visInvertBrush?this.invertBrushG.style("display","inline"):this.invertBrushG.style("display","none"),this.linkG=this.vis.append("g").attr("class","links"),this.nodeG=this.vis.append("g").attr("class","nodes"),this.textG=this.vis.append("g").attr("class","texts"),this.visShowIds?this.textG.style("display","inline"):this.textG.style("display","none"),this.test()},activated:function(){this.node.classed("selected",function(t){return t.selected}),this.simulation.tick()},deactivated:function(){this.simulation.stop()},methods:{load:function(t){this.nodeData=t.nodes,this.linkData=t.links},update:function(){var t=this,e=function(e){return e.group?t.colorPalette[e.group]:t.colorPalette[3]};this.link=this.linkG.selectAll("line").data(this.linkData).join("line"),this.node=this.nodeG.selectAll("circle").data(this.nodeData).join("circle").attr("r",function(t){var e=Math.sqrt(t.size)/10;return e>4.5?e:4.5}).attr("class","display").attr("fill",e).attr("filter","url(#shadow)").each(function(t){t.attentionTimes=0,t.selected=!1}),this.text=this.textG.selectAll("text").data(this.node.data()).join("text").attr("text-anchor","middle").attr("font-family","Avenir").attr("font-size","10").attr("dy","-0.5em").text(function(t){return t.id||t.name}).attr("fill",e).style("-webkit-user-select","none").style("-moz-user-select","none").style("-ms-user-select","none").style("user-select","none"),this.simulation.nodes(this.node.data()).on("tick",this.ticked).on("end",this.tickEnd),this.simulation.force("link").links(this.link.data()),this.bindEvents(),this.simulation.alpha(1).restart(),this.$store.commit("updateViewUpdate","force",!1),console.log("ForceChart update!")},bindEvents:function(){this.node.call(l["drag"]().on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended)),this.node.on("click",this.clickSelect),this.node.on("mouseover",this.mouseover),this.node.on("mouseout",this.mouseout);var t=this.node;function e(e){var i=e.index,n=t.filter(function(t){return t.index===i});n.dispatch(l["event"].type)}this.text.call(l["drag"]().on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended)),this.text.on("click",e),this.text.on("mouseover",e),this.text.on("mouseout",e)},ticked:function(){this.link.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),this.node.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),this.visShowIds&&this.text.attr("x",function(t){return t.x}).attr("y",function(t){return t.y})},tickEnd:function(){this.visShowIds||this.text.attr("x",function(t){return t.x}).attr("y",function(t){return t.y})},brushed:function(){var t=this.visTransform(),e=l["event"].selection,i=t.invert(e[0]),n=t.invert(e[1]);l["event"].type;var s=this.visBrush?"brushing":"invertBrushing";this.node.classed(s,function(t){return i[0]<=t.x&&i[1]<=t.y&&t.x<=n[0]&&t.y<=n[1]})},brushEnd:function(){this.brushedNodes=this.nodeG.selectAll(".brushing"),this.brushedNodes.classed("brushing",!1).classed("selected",!0).each(function(t){t.selected=!0}),this.brushedNodes.each(function(t){t.attentionTimes+=1}),this.$store.commit("addOperation",{action:"brush",nodes:this.brushedNodes.nodes(),time:new Date}),console.log("brush",this.brushedNodes.nodes())},invertBrushEnd:function(){this.invertBrushedNodes=this.nodeG.selectAll(".invertBrushing"),this.invertBrushedNodes.classed("invertBrushing",!1).classed("selected",!1).each(function(t){t.selected=!1}),this.$store.commit("addOperation",{action:"invertBrush",nodes:this.invertBrushedNodes.nodes(),time:new Date}),console.log("invertBrush",this.invertBrushedNodes.nodes())},dragstarted:function(t){this.visDrag&&(l["event"].active||this.simulation.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y,this.mousePoint=[l["event"].x,l["event"].y])},dragged:function(t){this.visDrag&&(t.fx=l["event"].x,t.fy=l["event"].y,this.isDraging||this.mousePoint[0]===l["event"].x&&this.mousePoint[1]===l["event"].y||(this.isDraging=!0))},dragended:function(t,e,i){if(this.visDrag&&(l["event"].active||this.simulation.alphaTarget(0),t.fx=null,t.fy=null,this.isDraging)){t.attentionTimes+=1;var n=l["select"](i[e]);this.$store.commit("addOperation",{action:"drag",nodes:n.nodes(),time:new Date}),this.isDraging=!1,console.log("drag",n.nodes()),n.dispatch("mouseout")}},clickSelect:function(t,e,i){if(this.visClick){var n=l["select"](i[e]);n.classed("selected")?(n.classed("selected",!1),t.selected=!1):(n.classed("selected",!0),t.selected=!0,t.attentionTimes+=1,this.$store.commit("addOperation",{action:"click",nodes:n.nodes(),time:new Date}),console.log("click",n.nodes()))}},mouseover:function(t){if(this.visMouseover&&!this.isDraging){var e=null,i=null;if(!t.id&&!t.name)throw new Error('object do not has "id" or "name"');var n=t.id?"id":"name",s=t[n];this.opacityLinks=this.link.filter(function(t){return t.source[n]!==s&&t.target[n]!==s}),i=this.link.filter(function(t){return t.source[n]===s||t.target[n]===s}),this.opacityNodes=this.node.filter(function(t){var e=i.data();for(var s in e)if(t[n]===e[s].source[n]||t[n]===e[s].target[n])return!1;return!0}),e=this.node.filter(function(t){var e=i.data();for(var s in e)if(t[n]===e[s].source[n]||t[n]===e[s].target[n])return!0;return!1});var a=this.opacityNodes.data().map(function(t){return t.index});this.opacityTexts=this.text.filter(function(t){return void 0!==a.find(function(e){return e===t.index})}//!==undefined 防止返回0误认为false
),this.opacityNodes.transition().style("fill-opacity",.2).style("stroke-opacity",.2),this.opacityLinks.transition().style("stroke-opacity",0),this.opacityTexts.transition().style("fill-opacity",0),this.isDraging||(e.each(function(t){t.attentionTimes+=1}),this.$store.commit("addOperation",{action:"mouseover",nodes:e.nodes(),time:new Date}),console.log("mouseover",e.nodes()))}},mouseout:function(){this.visMouseover&&!this.isDraging&&(this.opacityNodes.transition().delay(200).style("fill-opacity",null).style("stroke-opacity",null),this.opacityLinks.transition().delay(200).style("stroke-opacity",null),this.opacityTexts.transition().delay(200).style("fill-opacity",null))},forceLinkChange:function(){var t=this;this.simulation.force("link").strength(function(e){return t.linkStrength/Math.min(t.degreeArray[e.source.index],t.degreeArray[e.target.index])+t.linkLength}),this.simulation.alpha(.15).restart()},visTransform:function(){return l["zoomTransform"](this.vis.node())},test:function(){this.load(this.visualData),this.update()}},watch:{visBrush:function(t){t?this.brushG.style("display","inline"):this.brushG.style("display","none")},visInvertBrush:function(t){t?this.invertBrushG.style("display","inline"):this.invertBrushG.style("display","none")},visShowIds:function(t){t?this.textG.style("display","inline"):this.textG.style("display","none")},"viewUpdate.force":function(t){t&&this.test()}}}),x=k,D=(i("2d9d"),Object(h["a"])(x,y,b,!1,null,null,null)),w=D.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ScatterChart",style:{margin:"5px",height:+this.chartHeight+5+"px",width:+this.chartWidth+5+400+"px"}},[i("div",{staticStyle:{float:"left"}},[i("svg",{style:{border:"1px solid #305dff",background:this.backgroundColor},attrs:{width:this.chartWidth,height:this.chartHeight}},[i("defs",[i("filter",{attrs:{id:"shadow"}},[i("feDropShadow",{attrs:{dx:"0",dy:"0",stdDeviation:"0.3"}})],1)])])]),i("div",{style:{float:"left",height:t.chartHeight+"px",margin:"0 5px",padding:"0 0 40px 0"}},[i("a-select",{staticStyle:{width:"160px"},attrs:{showSearch:"",placeholder:"Select X Dimension",optionFilterProp:"children",filterOption:t.filterOption},on:{change:t.xDimensionChange}},t._l(t.dimensions,function(e){return i("a-select-option",{key:e},[t._v(t._s(e))])}),1),i("a-select",{staticStyle:{width:"160px"},attrs:{showSearch:"",placeholder:"Select Y Dimension",optionFilterProp:"children",filterOption:t.filterOption},on:{change:t.yDimensionChange}},t._l(t.dimensions,function(e){return i("a-select-option",{key:e},[t._v(t._s(e))])}),1)],1)])},B=[],C=(i("456d"),i("5df3"),i("4f7f"),i("55dd"),{name:"ScatterChart",props:{visClick:Boolean,visBrush:Boolean,visInvertBrush:Boolean,visDrag:Boolean,visMouseover:Boolean,visZoom:Boolean,visShowIds:Boolean,viewUpdate:!1},data:function(){return{chartWidth:"960",chartHeight:"600",axisMargin:50,xDimension:"",yDimension:"",node:l["selectAll"](),nodeG:l["selectAll"](),linkData:[],nodeData:[],vis:l["selectAll"](),xAxis:l["selectAll"](),yAxis:l["selectAll"](),xScale:{},yScale:{},brushG:l["selectAll"](),opacityNodes:l["selectAll"](),opacityLinks:l["selectAll"](),opacityTexts:l["selectAll"](),text:l["selectAll"](),textG:l["selectAll"](),isDraging:!1,mousePoint:[],brushedNodes:l["selectAll"](),invertBrushedNodes:l["selectAll"]()}},computed:{sourceData:function(){return this.$store.state.sourceData},visualData:function(){return this.$store.state.visualData},backgroundColor:function(){return this.$store.state.backgroundColor},colorPalette:function(){return this.$store.state.colorPalette},nodesNumber:function(){return this.node.size()},dimensions:function(){return this.getDimensions()},xDimensionData:function(){var t=this;return this.nodeData.map(function(e){return e[t.xDimension]}).sort()},yDimensionData:function(){var t=this;return this.nodeData.map(function(e){return e[t.yDimension]}).sort()}},mounted:function(){var t=this;console.log(this),console.log(l);var e=l["select"](this.$el).select("svg").attr("viewBox",[0,0,+this.chartWidth,+this.chartHeight]);this.vis=e.append("g").attr("transform","translate("+this.axisMargin+","+this.axisMargin+")"),e.call(l["zoom"]().translateExtent([[-this.axisMargin,-this.axisMargin],[1/0,1/0]]).on("zoom",s).on("end",a)).on("dblclick.zoom",null),this.xAxis=this.vis.append("g"),this.yAxis=this.vis.append("g");var i=l["brush"]().extent([[0,0],[+this.chartWidth,+this.chartHeight]]).on("start brush",this.brushed).on("end",this.brushEnd);this.brushG=e.append("g").call(i).attr("class","brush"),this.visBrush?this.brushG.style("display","inline"):this.brushG.style("display","none");var n=l["brush"]().extent([[0,0],[+this.chartWidth,+this.chartHeight]]).on("start brush",this.brushed).on("end",this.invertBrushEnd);function s(){if(t.visZoom){var e=l["event"].transform.translate(t.axisMargin,t.axisMargin);t.vis.attr("transform",e)}}function a(){if(t.visZoom){var e=l["event"].transform.translate(t.axisMargin,t.axisMargin),i=e.invert([0,0]),n=e.invert([+t.chartWidth,+t.chartHeight]),s=t.node.filter(function(t){return i[0]<=t.xx&&i[1]<=t.yy&&t.xx<=n[0]&&t.yy<=n[1]});s.each(function(t){t.attentionTimes+=1}),t.$store.commit("addOperation",{action:"zoom",nodes:s.nodes(),time:new Date}),console.log("zoom",s.nodes())}}this.invertBrushG=e.append("g").call(n).attr("class","invertBrush"),this.visInvertBrush?this.invertBrushG.style("display","inline"):this.invertBrushG.style("display","none"),this.linkG=this.vis.append("g").attr("class","links"),this.nodeG=this.vis.append("g").attr("class","nodes"),this.textG=this.vis.append("g").attr("class","texts"),this.visShowIds?this.textG.style("display","inline"):this.textG.style("display","none"),this.load(this.visualData)},activated:function(){var t=this;this.node.classed("selected",function(t){return t.selected}),this.node.each(function(e){e.xx=t.xScale(e[t.xDimension])}).each(function(e){e.yy=t.yScale(e[t.yDimension])})},methods:{load:function(t){this.nodeData=t.nodes,this.linkData=t.links},update:function(){var t=this,e=this,i=function(e){return e.group?t.colorPalette[e.group]:t.colorPalette[8]},n=this.xDimensionData.length||0;this.xScale=l["scaleOrdinal"]().domain(this.xDimensionData).range(l["range"](n).map(function(t){return t*+e.chartWidth/n})),this.xAxis.call(l["axisTop"](this.xScale));var s=this.yDimensionData.length||0;this.yScale=l["scaleOrdinal"]().domain(this.yDimensionData).range(l["range"](s).map(function(t){return t*+e.chartHeight/s})),this.yAxis.call(l["axisLeft"](this.yScale)),this.link=this.linkG.selectAll("line").data(this.linkData).join("line"),this.node=this.nodeG.selectAll("circle").data(this.nodeData).join("circle").attr("r",function(t){return Math.sqrt(t.size)/10||4.5}).attr("class","display").attr("fill",i).attr("filter","url(#shadow)").attr("cx",function(e){return e.xx=t.xScale(e[t.xDimension]),e.xx}).attr("cy",function(e){return e.yy=t.yScale(e[t.yDimension]),e.yy}).classed("selected",function(t){return t.selected}),this.text=this.textG.selectAll("text").data(this.node.data()).join("text").attr("text-anchor","middle").attr("font-family","Avenir").attr("font-size","10").attr("dy","-0.5em").text(function(t){return t.id}).attr("fill",i).attr("x",function(t){return t.xx}).attr("y",function(t){return t.yy}).style("-webkit-user-select","none").style("-moz-user-select","none").style("-ms-user-select","none").style("user-select","none"),this.bindEvents(),this.$store.commit("updateViewUpdate","scatter",!1),console.log("ScatterChart update!")},bindEvents:function(){this.node.on("click",this.clickSelect),this.node.on("mouseover",this.mouseover),this.node.on("mouseout",this.mouseout);var t=this.node;function e(e){var i=e.index,n=t.filter(function(t){return t.index===i});n.dispatch(l["event"].type)}this.text.on("click",e),this.text.on("mouseover",e),this.text.on("mouseout",e)},getDimensions:function(){var t=["fx","fy","x","y","xx","yy","vx","vy","children"],e=new Set;return this.visualData.nodes.forEach(function(t){e=new Set([].concat(Object(g["a"])(e),Object(g["a"])(Object.keys(t))))}),Object(g["a"])(e).filter(function(e){return t.every(function(t){return t!==e})}).sort()},brushed:function(){var t=this.visTransform().translate(this.axisMargin,this.axisMargin),e=l["event"].selection,i=t.invert(e[0]),n=t.invert(e[1]);l["event"].type;var s=this.visBrush?"brushing":"invertBrushing";this.node.classed(s,function(t){return i[0]<=t.xx&&i[1]<=t.yy&&t.xx<=n[0]&&t.yy<=n[1]})},brushEnd:function(){this.brushedNodes=this.nodeG.selectAll(".brushing"),this.brushedNodes.classed("brushing",!1).classed("selected",!0).each(function(t){t.selected=!0}),this.brushedNodes.each(function(t){t.attentionTimes+=1}),this.$store.commit("addOperation",{action:"brush",nodes:this.brushedNodes.nodes(),time:new Date}),console.log("brushEnd",this.brushedNodes.nodes())},invertBrushEnd:function(){this.invertBrushedNodes=this.nodeG.selectAll(".invertBrushing"),this.invertBrushedNodes.classed("invertBrushing",!1).classed("selected",!1).each(function(t){t.selected=!1}),this.$store.commit("addOperation",{action:"invertBrush",nodes:this.invertBrushedNodes.nodes(),time:new Date}),console.log("invertBrushEnd",this.invertBrushedNodes.nodes())},dragstarted:function(t){this.visDrag&&(this.mousePoint=[l["event"].x,l["event"].y])},dragged:function(t,e,i){this.visDrag&&(t.xx=l["event"].x,t.yy=l["event"].y,l["select"](i[e]).attr("cx",t.xx).attr("cy",t.yy),this.isDraging||this.mousePoint[0]===l["event"].x&&this.mousePoint[1]===l["event"].y||(this.isDraging=!0))},dragended:function(t,e,i){if(this.visDrag&&this.isDraging){t.attentionTimes+=1;var n=l["select"](i[e]);this.$store.commit("addOperation",{action:"drag",nodes:n.nodes(),time:new Date}),this.isDraging=!1,console.log("drag",n.nodes())}},clickSelect:function(t,e,i){if(this.visClick){var n=l["select"](i[e]);n.classed("selected")?(n.classed("selected",!1),t.selected=!1):(n.classed("selected",!0),t.selected=!0,t.attentionTimes+=1,this.$store.commit("addOperation",{action:"click",nodes:n.nodes(),time:new Date}),console.log("click",n.nodes()))}},mouseover:function(t){if(this.visMouseover){var e=null,i=null,n=t.id;this.opacityLinks=this.link.filter(function(t){return t.source.id!==n&&t.target.id!==n}),i=this.link.filter(function(t){return t.source.id===n||t.target.id===n}),this.opacityNodes=this.node.filter(function(t){var e=i.data();for(var n in e)if(t.id===e[n].source.id||t.id===e[n].target.id)return!1;return!0}),e=this.node.filter(function(t){var e=i.data();for(var n in e)if(t.id===e[n].source.id||t.id===e[n].target.id)return!0;return!1});var s=this.opacityNodes.data().map(function(t){return t.index});this.opacityTexts=this.text.filter(function(t){return void 0!==s.find(function(e){return e===t.index})}//!==undefined 防止返回0误认为false
),this.opacityNodes.transition().style("fill-opacity",.2).style("stroke-opacity",.2),this.opacityLinks.transition().style("stroke-opacity",0),this.opacityTexts.transition().style("fill-opacity",0),this.isDraging||(t.attentionTimes+=1,this.$store.commit("addOperation",{action:"mouseover",nodes:e.nodes(),time:new Date}),console.log("mouseover",e.nodes()))}},mouseout:function(){this.visMouseover&&(this.opacityNodes.transition().delay(200).style("fill-opacity",null).style("stroke-opacity",null),this.opacityLinks.transition().delay(200).style("stroke-opacity",null),this.opacityTexts.transition().delay(200).style("fill-opacity",null))},filterOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},visTransform:function(){return l["zoomTransform"](this.vis.node())},xAxisTransform:function(){return l["zoomTransform"](this.xAxis.node())},yAxisTransform:function(){return l["zoomTransform"](this.yAxis.node())},xDimensionChange:function(t){this.xDimension=t,this.update()},yDimensionChange:function(t){this.yDimension=t,this.update()},test:function(){this.load(this.visualData),this.update()}},watch:{visBrush:function(t){t?this.brushG.style("display","inline"):this.brushG.style("display","none")},visInvertBrush:function(t){t?this.invertBrushG.style("display","inline"):this.invertBrushG.style("display","none")},visShowIds:function(t){t?this.textG.style("display","inline"):this.textG.style("display","none")},"viewUpdate.scatter":function(t){console.log("scatter watcher"),t&&this.test()}}}),$=C,_=(i("5755"),Object(h["a"])($,S,B,!1,null,null,null)),A=_.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-table",{attrs:{columns:t.columns,dataSource:t.data,size:"small"}})},N=[],T=(i("6b54"),{name:"NodesTable",props:{visClick:Boolean,visBrush:Boolean,visInvertBrush:Boolean,visDrag:Boolean,visMouseover:Boolean,visZoom:Boolean,visShowIds:Boolean,viewUpdate:!1},data:function(){return{chartWidth:"960",chartHeight:"600",dimensions:[],nodesChanged:!1}},computed:{sourceData:function(){return this.$store.state.sourceData},visualData:function(){return this.$store.state.visualData},nodes:function(){return this.visualData.nodes},links:function(){return this.visualData.links},backgroundColor:function(){return this.$store.state.backgroundColor},colorPalette:function(){return this.$store.state.colorPalette},nodesNumber:function(){},degreeArray:function(){var t=this.simulation.nodes(),e=this.simulation.force("link").links(),i=t.length,n=(e.length,new Array(i)),s=!0,a=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(s=(r=l.next()).done);s=!0){var c=r.value;n[c.source.index]=(n[c.source.index]||0)+1,n[c.target.index]=(n[c.target.index]||0)+1}}catch(u){a=!0,o=u}finally{try{s||null==l.return||l.return()}finally{if(a)throw o}}return n},columns:function(){return this.dimensions.map(function(t){return{title:t,dataIndex:t,key:t,sorter:function(e,i){return isNaN(e[t])||isNaN(i[t])?e[t]>i[t]?1:-1:e[t]-i[t]}}})},data:function(){var t=this;return this.nodesChanged=!1,this.nodes.map(function(e,i){var n={key:i},s=!0,a=!1,o=void 0;try{for(var r,l=t.dimensions[Symbol.iterator]();!(s=(r=l.next()).done);s=!0){var c=r.value;n[c]=void 0===e[c]||null===e[c]?"-":e[c].toString()}}catch(u){a=!0,o=u}finally{try{s||null==l.return||l.return()}finally{if(a)throw o}}return n})}},mounted:function(){},activated:function(){this.dimensions=this.getDimensions()},deactivated:function(){},methods:{load:function(t){this.nodeData=t.nodes,this.linkData=t.links},update:function(){},getDimensions:function(){var t=["fx","fy","x","y","xx","yy","vx","vy","children"],e=new Set;return this.nodes.forEach(function(t){e=new Set([].concat(Object(g["a"])(e),Object(g["a"])(Object.keys(t))))}),Object(g["a"])(e).filter(function(e){return t.every(function(t){return t!==e})}).sort()},test:function(){this.load(this.visualData),this.update()}},watch:{"viewUpdate.table":function(t){},nodes:{handler:function(){this.nodesChanged=!0},deep:!0}}}),G=T,I=Object(h["a"])(G,O,N,!1,null,null,null),P=I.exports,V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-card",{attrs:{title:"Card Title"}},[i("a-card-grid",{staticStyle:{width:"100%",textAlign:"'center'"}},[t._v("Content")]),i("a-card-grid",{staticStyle:{width:"100%",textAlign:"'center'"}},[t._v("Content")]),i("a-card-grid",{staticStyle:{width:"100%",textAlign:"'center'"}},[t._v("Content")]),i("a-card-grid",{staticStyle:{width:"100%",textAlign:"'center'"}},[t._v("Content")]),i("a-card-grid",{staticStyle:{width:"100%",textAlign:"'center'"}},[t._v("Content")]),i("a-card-grid",{staticStyle:{width:"100%",textAlign:"'center'"}},[t._v("Content")]),i("a-card-grid",{staticStyle:{width:"100%",textAlign:"'center'"}},[t._v("Content")])],1)},j=[],z={name:"RecordDrawer",data:function(){return{}},computed:{},methods:{test:function(){console.log("c")}}},E=z,M=Object(h["a"])(E,V,j,!1,null,null,null),L=M.exports,U={name:"PageView",components:{ForceChart:w,ScatterChart:A,NodesTable:P,RecordDrawer:L},data:function(){return{collapsed:!1,visClick:!1,visDrag:!0,visMouseover:!1,visBrush:!1,visInvertBrush:!1,visZoom:!0,visShowIds:!1,recordVisible:!1,clickDisabled:!1,dragDisabled:!1,mouseoverDisabled:!1,brushDisabled:!1,invertBrushDisabled:!1,zoomDisabled:!1,showIdsDisabled:!1,sliceUndoList:[],currentChartKey:"force"}},methods:{onVisClick:function(){this.visClick=!this.visClick},onVisBrush:function(t){"switch"!==t&&(this.visBrush=!this.visBrush),this.visBrush&&(this.visInvertBrush=!1)},onVisInvertBrush:function(t){"switch"!==t&&(this.visInvertBrush=!this.visInvertBrush),this.visInvertBrush&&(this.visBrush=!1)},onVisDrag:function(){this.visDrag=!this.visDrag},onVisMouseover:function(){this.visMouseover=!this.visMouseover},onVisZoom:function(){this.visZoom=!this.visZoom},onVisShowIds:function(){this.visShowIds=!this.visShowIds},changeChart:function(t){this.currentChartKey=t.key},changeDisabledState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.click,i=void 0!==e&&e,n=t.drag,s=void 0!==n&&n,a=t.mouseover,o=void 0!==a&&a,r=t.brush,l=void 0!==r&&r,c=t.invertBrush,u=void 0!==c&&c,d=t.zoom,h=void 0!==d&&d,f=t.showIds,v=void 0!==f&&f;this.clickDisabled=i,this.dragDisabled=s,this.mouseoverDisabled=o,this.brushDisabled=l,this.invertBrushDisabled=u,this.zoomDisabled=h,this.showIdsDisabled=v},recordOpen:function(){this.recordVisible=!0},recordClose:function(){this.recordVisible=!1},saveViewData:function(){var t=this;this.$store.commit("changeSavedViewData",function(e){e.push(t.visualData)})},viewBack:function(){var t=this;this.$store.commit("changeSavedViewData",function(e,i){if(e.length){var n=e.pop();i.unshift(n),t.$store.commit("updateVisualData",n),t.$store.commit("updateViewUpdate","all"),console.info("backed!")}})},viewSlice:function(){var t=this.$store.state.viewSlice();t.nodes.length?(this.sliceUndoList.push(this.visualData),this.$store.commit("updateVisualData",t),this.$store.commit("updateViewUpdate","all"),this.$store.commit("addOperation",{action:"slice",nodes:t,time:new Date}),console.log("slice",t)):this.$message.error("No nodes are selected !")},sliceUndo:function(){if(!this.sliceUndoDisabled){var t=this.sliceUndoList.pop();this.$store.commit("updateVisualData",t),this.$store.commit("updateViewUpdate","all"),this.$store.commit("addOperation",{action:"sliceUndo",nodes:t,time:new Date}),console.log("sliceUndo",t)}},test:function(t,e,i){console.log(t),console.log(this.$listeners),console.log(i)},test1:function(t){console.log(t),console.log(t.target)}},computed:{sourceData:function(){return this.$store.state.sourceData},visualData:function(){return this.$store.state.visualData},viewUpdate:function(){return this.$store.state.viewUpdate},currentChart:function(){switch(this.currentChartKey){case"scatter":return this.changeDisabledState({drag:!0}),"ScatterChart";case"force":return this.changeDisabledState(),"ForceChart";case"table":return this.changeDisabledState({click:!0,drag:!0,mouseover:!0,brush:!0,invertBrush:!0,zoom:!0,showIds:!0}),"NodesTable";default:this.changeDisabledState();break}},undoStack:function(){return this.$store.state.undoStack},redoStack:function(){return this.$store.state.redoStack},savedViewData:function(){return[].concat(Object(g["a"])(this.undoStack),Object(g["a"])(redoStack))},sliceUndoDisabled:function(){return!this.sliceUndoList.length}}},H=U,W=Object(h["a"])(H,p,m,!1,null,null,null),Z=W.exports,K=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},F=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"operations",staticStyle:{height:"50vh"}})])}],J=i("7f1a"),R=i.n(J),q=(i("7104"),{name:"PageAnalyze",data:function(){return{operationsVis:{},operationsChart:{},chart:{}}},computed:{codemirror:function(){return this.$refs.myCm.codemirror},operations:function(){return this.$store.state.operations}},mounted:function(){this.chart=new R.a.Chart({container:document.getElementsByClassName("operations")[0],forceFit:!0,height:400,theme:"dark"});var t={time:{type:"time",mask:"HH:mm:ss"},action:{type:"cat",values:this.$store.state.operationTypes}};this.chart.source(this.operations,t),this.chart.legend({title:null,marker:"square"}),this.chart.legend("nodes",!1),this.chart.tooltip({showTitle:!1}),this.chart.point().position("time*action").color("action").size("nodes",function(t){var e=Math.sqrt(t.length);return e>4.5?e:4.5}).opacity(.8).shape("circle").tooltip("time*action",function(t,e,i){return{name:e,value:t+"%"}}),this.chart.render()},activated:function(){this.chart.changeData(this.operations)},methods:{}}),X=q,Y=Object(h["a"])(X,K,F,!1,null,null,null),Q=Y.exports,tt={name:"app",components:{PageData:v,PageView:Z,PageAnalyze:Q},data:function(){return{currentPageKey:"1"}},methods:{},computed:{currentPage:function(){switch(this.currentPageKey){case"1":return"PageData";case"2":return"PageView";case"3":return"PageAnalyze";default:break}},visualData:function(){return!!this.$store.state.visualData},dataSelected:function(){return this.visualData},pageViewTooltipTitle:function(){return this.dataSelected?"数据可视化界面":"请先在左侧选择数据"},pageAnalyzeTooltipTitle:function(){return this.dataSelected?"交互分析界面":"请先在左侧选择数据"}}},et=tt,it=(i("0f2d"),Object(h["a"])(et,s,a,!1,null,"4fe02298",null)),nt=it.exports,st=(i("202f"),i("f64c")),at=i("5efb"),ot=i("cdeb"),rt=i("e32c"),lt=i("9571"),ct=i("0c63"),ut=i("b558"),dt=i("09d9"),ht=i("98c5"),ft=i("55f1"),vt=i("9a63"),pt=i("9839"),mt=i("fbdf"),gt=i("160c"),yt=i("0020"),bt=i("ccb9e"),kt=i("f933"),xt=i("2f62");n["a"].use(xt["a"]);var Dt=new xt["a"].Store({state:{datasets:{energy:{fileName:"energy.json",dataType:"node-link"},miserables:{fileName:"miserables.json",dataType:"node-link"},readme:{fileName:"readme.json",dataType:"hierarchical"},test:{fileName:"test.json",dataType:"hierarchical"}},sourceData:void 0,visualData:void 0,viewUpdate:{force:!1,scatter:!1,table:!1},operations:[],operationTypes:["slice","sliceUndo","click","drag","mouseover","brush","invertBrush","zoom"],backgroundColor:"#333",contrastColor:"#eee",colorPalette:["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],savedViewData:[],undoStack:[],redoStack:[],viewSlice:function(){var t=[],e=this.visualData.nodes.filter(function(e){return!!e.selected||(t.push(e),!1)}),i=this.visualData.links.filter(function(e){return t.every(function(t){var i=t.id?"id":"name";return t[i]!==e.source[i]&&t[i]!==e.target[i]})});return{nodes:e,links:i}}},getters:{hierarchical2nodeLink:function(t){if(t.sourceData){var e=[];return i(t.sourceData),{nodes:e,links:n(e)}}function i(t){t.children&&t.children.forEach(i),t.id||(t.id=t.name),e.push(t)}function n(t){var e=[];return t.forEach(function(t){t.children&&t.children.forEach(function(i){e.push({source:t,target:i})})}),e}}},mutations:{updateSourceData:function(t,e){t.sourceData=e},updateVisualData:function(t,e){t.visualData=e},updateViewUpdate:function(t,e,i){var n=["force","scatter","table"];"all"===e?n.forEach(function(e){t.viewUpdate[e]=!0}):t.viewUpdate[e]=i},resetOperations:function(t){t.operations=[]},addOperation:function(t,e){t.operations.push(e)},changeSavedViewData:function(t,e){var i=t.undoStack,n=t.redoStack;e(i,n)}},actions:{}});n["a"].prototype.$message=st["a"],n["a"].use(at["a"]),n["a"].use(ot["a"]),n["a"].use(rt["a"]),n["a"].use(lt["a"]),n["a"].use(ct["a"]),n["a"].use(ut["a"]),n["a"].use(dt["a"]),n["a"].use(ht["a"]),n["a"].use(ft["a"]),n["a"].use(vt["a"]),n["a"].use(pt["b"]),n["a"].use(mt["a"]),n["a"].use(gt["a"]),n["a"].use(yt["a"]),n["a"].use(bt["a"]),n["a"].use(kt["a"]),n["a"].config.productionTip=!1,new n["a"]({store:Dt,render:function(t){return t(nt)}}).$mount("#app")},5755:function(t,e,i){"use strict";var n=i("77a5"),s=i.n(n);s.a},"77a5":function(t,e,i){},eddc:function(t,e,i){}});
//# sourceMappingURL=app.5cfafe98.js.map