(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)o=r[d],s[o]&&h.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0d40":function(t,e,i){},"2c72":function(t,e,i){"use strict";var n=i("eddc"),s=i.n(n);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("a-layout",{staticStyle:{"min-height":"100vh"},attrs:{id:"components-layout-demo-top-side-2"}},[i("a-layout-header",{staticClass:"header"},[i("div",{staticClass:"logo"}),i("a-menu",{style:{lineHeight:"64px"},attrs:{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]}},[i("a-menu-item",{key:"1",on:{click:function(e){t.currentPageKey="1"}}},[t._v("Data")]),i("a-menu-item",{key:"2",on:{click:function(e){t.currentPageKey="2"}}},[t._v("View")]),i("a-menu-item",{key:"3",on:{click:function(e){t.currentPageKey="3"}}},[t._v("Analyze")])],1)],1),i("keep-alive",[i(t.currentPage,{tag:"component"})],1)],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-layout",[i("a-layout-sider",{staticStyle:{background:"#fff"},attrs:{width:"200",theme:"light",collapsible:"",collapsedWidth:"80"}},[i("a-menu",{style:{height:"100%",borderRight:0},attrs:{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],inlineIndent:24}},[i("a-sub-menu",{key:"sub1"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"user"}}),i("span",[t._v("DataSet")])],1),i("a-menu-item",{key:"1",on:{click:t.loadData}},[t._v("miserables.json")]),i("a-menu-item",{key:"2",on:{click:t.loadData}},[t._v("readme.json")])],1),i("a-sub-menu",{key:"sub2"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"laptop"}}),i("span",[t._v("hierarchical")])],1),i("a-menu-item",{key:"5"},[t._v("DataFlow")]),i("a-menu-item",{key:"6"},[t._v("OprationFlow")])],1),i("a-sub-menu",{key:"sub3"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"notification"}}),i("span",[t._v("sub3")])],1),i("a-menu-item",{key:"9"},[t._v("option9")]),i("a-menu-item",{key:"10"},[t._v("option10")]),i("a-menu-item",{key:"11"},[t._v("option11")]),i("a-menu-item",{key:"12"},[t._v("option12")])],1)],1)],1),i("a-layout",{staticStyle:{padding:"0 0px 0 5px"}},[i("a-layout-content",{style:{background:"#fff",padding:"24px",margin:0}},[i("a-tabs",{style:{height:"100%"},attrs:{defaultActiveKey:"0"}},t._l(t.tabContents,function(e,n){return i("a-tab-pane",{key:n+1,attrs:{tab:t.tabs[n]}},[i("codemirror",{ref:"myCm",refInFor:!0,attrs:{value:e,options:t.cmOptions}})],1)}),1)],1)],1)],1)},r=[],c=i("5698"),l=i("8f94"),u=(i("a7be"),i("737c"),i("f9d4"),i("f6b6"),i("9b74"),i("3c98"),{name:"PageData",components:{codemirror:l["codemirror"]},data:function(){return{collapsed:!1,visSwitched:!1,tabs:["SourceData","Node-Link","Hierarchical"],tabContents:[],cmOptions:{tabSize:2,mode:{name:"javascript",json:!0},theme:"lucario",lineNumbers:!0,line:!0}}},methods:{loadData:function(t){var e=this,i="./static/",n="";switch(this.tabContents=[],t.key){case"1":n="miserables.json";break;case"2":n="readme.json";break;default:break}function s(){c["i"](i+n).then(function(t){console.log(JSON.stringify(t,null,"\t")),console.log(t),e.$store.commit("updateSourceData",t),e.tabContents.push(JSON.stringify(t,null,"\t")),e.tabContents.push("123123123123123"),e.tabContents.push("asdsafdhfghdfghsdf")}).catch(function(t){console.log(t)})}s()},test:function(){console.log("c")},test1:function(t){console.log(t),console.log(t.target)}}}),d=u,h=(i("2c72"),i("2877")),f=Object(h["a"])(d,o,r,!1,null,null,null),p=f.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-layout",[i("a-layout-sider",{staticStyle:{background:"#fff"},attrs:{width:"200",theme:"light",collapsible:"",collapsedWidth:"80"}},[i("a-menu",{style:{height:"100%",borderRight:0},attrs:{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],inlineIndent:24}},[i("a-sub-menu",{key:"sub1"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"user"}}),i("span",[t._v("opration")])],1),i("a-menu-item",[i("a-button",{style:{margin:"1px"},attrs:{type:"primary",block:"block"}},[t._v("save")])],1),i("a-menu-item",{on:{click:t.onVisClick}},[i("span",[t._v("click")]),i("span",{style:{display:"block",float:"right"}},[i("a-switch",{on:{change:function(e){t.visSwitched=!0}},model:{value:t.visClick,callback:function(e){t.visClick=e},expression:"visClick"}})],1)]),i("a-menu-item",{on:{click:t.onVisBrush}},[i("span",[t._v("brush")]),i("span",{style:{display:"block",float:"right"}},[i("a-switch",{on:{change:function(e){t.visSwitched=!0}},model:{value:t.visBrush,callback:function(e){t.visBrush=e},expression:"visBrush"}})],1)]),i("a-menu-item",{key:"1",on:{click:t.onVisDrag}},[i("span",[t._v("drag")]),i("span",{style:{display:"block",float:"right"}},[i("a-switch",{on:{change:function(e){t.visSwitched=!0}},model:{value:t.visDrag,callback:function(e){t.visDrag=e},expression:"visDrag"}})],1)]),i("a-menu-item",{on:{click:t.onVisMouseover}},[i("span",[t._v("mouseover")]),i("span",{style:{display:"block",float:"right"}},[i("a-switch",{on:{change:function(e){t.visSwitched=!0}},model:{value:t.visMouseover,callback:function(e){t.visMouseover=e},expression:"visMouseover"}})],1)])],1),i("a-sub-menu",{key:"sub2"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"laptop"}}),i("span",[t._v("display")])],1),i("a-menu-item",{on:{click:t.onVisShowIds}},[i("span",[t._v("visShowIds")]),i("span",{style:{display:"block",float:"right"}},[i("a-switch",{on:{change:function(e){t.visSwitched=!0}},model:{value:t.visShowIds,callback:function(e){t.visShowIds=e},expression:"visShowIds"}})],1)]),i("a-menu-item",{key:"4"},[t._v("OprationView")]),i("a-menu-item",{key:"5"},[t._v("DataFlow")]),i("a-menu-item",{key:"6"},[t._v("OprationFlow")])],1),i("a-sub-menu",{key:"sub3"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("a-icon",{attrs:{type:"notification"}}),i("span",[t._v("sub3")])],1),i("a-menu-item",{key:"9"},[t._v("option9")]),i("a-menu-item",{key:"10"},[t._v("option10")]),i("a-menu-item",{key:"11"},[t._v("option11")]),i("a-menu-item",{key:"12"},[t._v("option12")])],1)],1)],1),i("a-layout",{staticStyle:{padding:"0 0px 0 5px"}},[i("a-layout-content",{style:{background:"#fff",padding:"24px",margin:0}},[i("ForceChart",{attrs:{visClick:t.visClick,visBrush:t.visBrush,visDrag:t.visDrag,visMouseover:t.visMouseover,visShowIds:t.visShowIds}})],1)],1)],1)},y=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{style:{border:"1px solid #305dff"},attrs:{width:this.chartWidth,height:this.chartHeight}})},g=[],k=(i("7514"),i("b54a"),{name:"ForceChart",props:{visClick:Boolean,visBrush:Boolean,visDrag:Boolean,visMouseover:Boolean,visShowIds:Boolean},data:function(){return{chartWidth:"960",chartHeight:"600",link:c["l"](),node:c["l"](),linkData:[],nodeData:[],vis:c["l"](),simulation:{},brushG:c["l"](),opacityNodes:c["l"](),opacityLinks:c["l"](),opacityTexts:c["l"](),text:c["l"]()}},mounted:function(){console.log(this);var t=c["k"](this.$el),e=+this.chartWidth,i=+this.chartHeight;this.vis=t.append("g"),this.vis.append("rect").attr("width",e).attr("height",i).style("fill","none").style("pointer-events","all"),this.simulation=c["g"]().force("link",c["e"]().id(function(t){return t.id})).force("charge",c["f"]()).force("center",c["d"](e/2,i/2));var n=c["a"]().extent([[0,0],[e,i]]).on("start brush",this.brushed);this.brushG=this.vis.append("g").call(n).attr("class","brush").call(n.move,[[0,0],[1,1]]),this.visBrush?this.brushG.style("display","inline"):this.brushG.style("display","none"),this.link=this.vis.append("g").attr("class","links"),this.node=this.vis.append("g").attr("class","nodes"),this.text=this.vis.append("g").attr("class","texts"),this.test()},methods:{load:function(t,e){this.nodeData=t,this.linkData=e},update:function(){var t=function(t){var e=c["j"];return e[t.group]};this.link=this.link.selectAll("line").data(this.linkData).enter().append("line"),this.node=this.node.selectAll("circle").data(this.nodeData).enter().append("circle").attr("r",4).attr("class","display").attr("fill",t),this.text=this.text.selectAll("text").data(this.node.data()).enter().append("text").attr("text-anchor","middle").attr("font-family","Avenir").attr("font-size","10").attr("dy","-0.5em").text(function(t){return t.id}).attr("fill",t).style("-webkit-user-select","none").style("-moz-user-select","none").style("-ms-user-select","none").style("user-select","none"),this.simulation.nodes(this.node.data()).on("tick",this.ticked),this.simulation.force("link").links(this.link.data())},bindEvents:function(){this.node.call(c["b"]().on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended)),this.node.on("click",this.clickSelect),this.node.on("mouseover",this.mouseover),this.node.on("mouseout",this.mouseout);var t=this.node;function e(e){var i=e.index,n=t.filter(function(t){return t.index===i});n.dispatch(c["c"].type)}this.text.call(c["b"]().on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended)),this.text.on("click",e),this.text.on("mouseover",e),this.text.on("mouseout",e)},ticked:function(){this.link.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),this.node.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),this.visShowIds&&this.text.attr("x",function(t){return t.x}).attr("y",function(t){return t.y})},brushed:function(){var t=c["c"].selection;this.node.classed("selected",function(e){return t[0][0]<=e.x&&t[0][1]<=e.y&&e.x<=t[1][0]&&e.y<=t[1][1]})},dragstarted:function(t){this.visDrag&&(c["c"].active||this.simulation.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y)},dragged:function(t){this.visDrag&&(t.fx=c["c"].x,t.fy=c["c"].y)},dragended:function(t){this.visDrag&&(c["c"].active||this.simulation.alphaTarget(0),t.fx=null,t.fy=null)},clickSelect:function(t,e,i){if(this.visClick){var n=c["k"](i[e]);n.classed("selected")?n.classed("selected",!1):n.classed("selected",!0)}},mouseover:function(t){if(this.visMouseover){var e=null,i=t.id;this.opacityLinks=this.link.filter(function(t){return t.source.id!==i&&t.target.id!==i}),e=this.link.filter(function(t){return t.source.id===i||t.target.id===i}),this.opacityNodes=this.node.filter(function(t){var i=e.data();for(var n in i)if(t.id===i[n].source.id||t.id===i[n].target.id)return!1;return!0}),this.node.filter(function(t){var i=e.data();for(var n in i)if(t.id===i[n].source.id||t.id===i[n].target.id)return!0;return!1});var n=this.opacityNodes.data().map(function(t){return t.index});this.opacityTexts=this.text.filter(function(t){return void 0!==n.find(function(e){return e===t.index})}//!==undefined 防止返回0误认为false
),this.opacityNodes.transition().style("fill-opacity",.2).style("stroke-opacity",.2),this.opacityLinks.transition().style("stroke-opacity",0),this.opacityTexts.transition().style("fill-opacity",0)}},mouseout:function(){this.visMouseover&&(this.opacityNodes.transition().delay(200).style("fill-opacity",null).style("stroke-opacity",null),this.opacityLinks.transition().delay(200).style("stroke-opacity",null),this.opacityTexts.transition().delay(200).style("fill-opacity",null))},test:function(){var t=this;c["i"]("./static/miserables.json").then(function(e){t.load(e.nodes,e.links),t.update(),t.bindEvents(),console.log(t.$store.state.aaa)}).catch(function(t){console.log(t)})}},computed:{},watch:{visBrush:function(t){t?this.brushG.style("display","inline"):this.brushG.style("display","none")},visShowIds:function(t){t?this.text.attr("display","inline"):this.text.attr("display","none")}}}),b=k,x=(i("8ae9"),Object(h["a"])(b,m,g,!1,null,null,null)),w=x.exports,S={name:"PageView",components:{ForceChart:w},data:function(){return{collapsed:!1,visSwitched:!1,visClick:!1,visBrush:!1,visDrag:!0,visMouseover:!1,visShowIds:!1}},methods:{onVisClick:function(){this.visSwitched?this.visSwitched=!1:this.visClick=!this.visClick},onVisBrush:function(){this.visSwitched?this.visSwitched=!1:this.visBrush=!this.visBrush},onVisDrag:function(){this.visSwitched?this.visSwitched=!1:this.visDrag=!this.visDrag},onVisMouseover:function(){this.visSwitched?this.visSwitched=!1:this.visMouseover=!this.visMouseover},onVisShowIds:function(){this.visSwitched?this.visSwitched=!1:this.visShowIds=!this.visShowIds},test:function(){console.log("c")},test1:function(t){console.log(t),console.log(t.target)}}},_=S,D=Object(h["a"])(_,v,y,!1,null,null,null),C=D.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("codemirror",{attrs:{options:t.cmOptions},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})},j=[],P={name:"PageAnalyze",components:{codemirror:l["codemirror"]},data:function(){return{code:"const a = 10",cmOptions:{tabSize:4,mode:{name:"javascript",json:!0},theme:"base16-dark",lineNumbers:!0,line:!0}}},methods:{onCmReady:function(t){console.log("the editor is readied!",t)},onCmFocus:function(t){console.log("the editor is focus!",t)},onCmCodeChange:function(t){console.log("this is new code",t),this.code=t}},computed:{codemirror:function(){return this.$refs.myCm.codemirror}},mounted:function(){console.log("this is current codemirror object",this.codemirror)}},B=P,I=Object(h["a"])(B,O,j,!1,null,null,null),M=I.exports,V={name:"app",components:{PageData:p,PageView:C,PageAnalyze:M},data:function(){return{currentPageKey:"1"}},methods:{},computed:{currentPage:function(){switch(this.currentPageKey){case"1":return"PageData";case"2":return"PageView";case"3":return"PageAnalyze";default:break}}}},K=V,N=(i("b2bc"),Object(h["a"])(K,s,a,!1,null,"290c93a0",null)),$=N.exports,z=(i("202f"),i("0c63")),A=i("5efb"),F=i("98c5"),T=i("55f1"),E=i("160c"),G=i("ccb9e"),L=(i("ac6a"),i("2f62"));n["a"].use(L["a"]);var H=new L["a"].Store({state:{sourceData:{}},getters:{hierarchical2nodeLink:function(t){var e=[],i=0;function n(t){t.children&&t.children.forEach(n),t.id||(t.id=++i),e.push(t)}n(t.sourceData);var s=c["h"](e).links();return[e,s]}},mutations:{updateSourceData:function(t,e){t.sourceData=e}},actions:{}});n["a"].use(z["a"]),n["a"].use(A["a"]),n["a"].use(F["a"]),n["a"].use(T["a"]),n["a"].use(E["a"]),n["a"].use(G["a"]),n["a"].config.productionTip=!1,new n["a"]({store:H,render:function(t){return t($)}}).$mount("#app")},"8ae9":function(t,e,i){"use strict";var n=i("0d40"),s=i.n(n);s.a},b2bc:function(t,e,i){"use strict";var n=i("e524"),s=i.n(n);s.a},e524:function(t,e,i){},eddc:function(t,e,i){}});
//# sourceMappingURL=app.6758464f.js.map